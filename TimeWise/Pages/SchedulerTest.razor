@page "/schedulerTest"
@using MudBlazor
@using TimeWise.Data.Scheduler
@using Newtonsoft.Json
@using TimeWise.Modules
@using SchedulingLib

@inject SchedulingAPIService sAPIs
@using TimeWise.Shared
@inject Constants constants
@inject ContentStorage content


<h1>Scheduler</h1>

<div>
    <MudButton OnClick="_ => solution = ComparisonAlgorithm.ProceduralScheduling(problem!.Problem)">API Version</MudButton>
    <SolutionDisplay Problem="problem.Problem" Solution="solution"></SolutionDisplay>
</div>



@code {
    private string version = "";
    private bool state = false;
    private ProblemScope? problem;
    private Solution? solution;
    protected override void OnInitialized()
    {
        problem = JsonConvert.DeserializeObject<ProblemScope>("""{"Problem":{"Workers":[{"Name":"Jenna","Occupations":["EMT"],"Wage":25.0},{"Name":"Hannah","Occupations":["Nurse"],"Wage":20.0},{"Name":"George","Occupations":["Doctor"],"Wage":30.0},{"Name":"Freddy","Occupations":["Doctor"],"Wage":31.0},{"Name":"Kiley","Occupations":["Doctor"],"Wage":28.0},{"Name":"Delta","Occupations":["EMT"],"Wage":24.0},{"Name":"Marlee","Occupations":["Doctor"],"Wage":35.0},{"Name":"Tucker","Occupations":["Nurse"],"Wage":18.0},{"Name":"Lawrence","Occupations":["EMT"],"Wage":25.0}],"Schedule":{"Weeks":[{"Days":[{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]}]},{"Days":[{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]}]},{"Days":[{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]},{"TimeSlots":[{"Shifts":[{"Name":"Morning Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.2}]},{"Shifts":[{"Name":"Late Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["EMT"]},{"Count":1,"RequiredQualifications":["Doctor"]},{"Count":1,"RequiredQualifications":["Nurse"]}],"Strain":1.0}]},{"Shifts":[{"Name":"Night Shift","Length":8.0,"RequiredPersonnel":[{"Count":1,"RequiredQualifications":["Doctor"]}],"Strain":1.8}]}]}]}]},"MaxHoursPerWeek":50.0,"Options":{"ExpenseMinimizing":true,"StrainMinimizing":true,"EnsureQualifiedPersonnelConstraint":true,"NoDoubleShiftConstraint":true,"CapMaximumWorkingHoursConstraint":true}},"SelectedWeek":0,"SelectedDay":1,"SelectedTimeSlot":2,"SelectedShift":0}""")!;
        solution = ComparisonAlgorithm.ProceduralScheduling(problem.Problem);
    }
}
